[
  {
    "category": "functional",
    "description": "User can save changes to a SavedQuery in place",
    "steps": ["Open saved query in editor", "Change the query", "Alt+S to save", "SavedQuery is updated with new SQL query"],
    "passes": true,
    "status": "completed",
    "notes": "Feature already implemented - Alt+S saves queries in place"
  },
  {
    "category": "refactor",
    "description": "Move shared utility functions",
    "steps": [
      "Move CSV format function from exporter/csv.go to shared utility for table values",
      "Replace custom string function in workspace/manager.go with standard library equivalent"
    ],
    "passes": true,
    "status": "completed",
    "completion_date": "2026-01-21"
  },
  {
    "category": "enhancement",
    "description": "Improve query execution logging",
    "steps": [
      "Update executor/executor.go to only log query stats",
      "Remove verbose row logging",
      "Review if BeginTransaction method is needed or should be removed"
    ],
    "passes": true,
    "status": "completed",
    "completion_date": "2026-01-21",
    "notes": "Removed verbose row count from query logging. ExecuteTransaction retained as it's useful for atomic operations. BeginTransaction doesn't exist in codebase."
  },
  {
    "category": "feature",
    "description": "Autocomplete Phase 1: C3 Core Implementation",
    "steps": [
      "Create internal/parser/c3/types.go with Token, PipelineEntry, RuleContext, CandidatesCollection types (~100 lines)",
      "Create internal/parser/c3/rule_list.go with RuleList struct and bitset-based efficient contains check (~80 lines)",
      "Create internal/parser/c3/follow_sets.go with FollowSetsByState thread-safe cache and follow set collection (~180 lines)",
      "Create internal/parser/c3/core.go with CodeCompletionCore ATN walker algorithm (~350 lines)",
      "Create internal/parser/c3/core_test.go with unit tests for RuleList, FollowSetsByState, and CollectCandidates"
    ],
    "passes": true,
    "status": "completed",
    "completion_date": "2026-01-21"
  },
  {
    "category": "feature",
    "description": "Autocomplete Phase 2: Scanner Implementation",
    "steps": [
      "Create internal/parser/scanner/scanner.go with token stream wrapper (~150 lines)",
      "Implement navigation methods: GetIndex, GetTokenType, GetTokenText, Forward, Backward, SeekIndex, SeekPosition",
      "Implement state management: Push, PopAndRestore",
      "Implement text extraction: GetFollowingText, SkipTokenSequence",
      "Create internal/parser/scanner/scanner_test.go with unit tests for navigation and state management"
    ],
    "passes": true,
    "status": "completed",
    "completion_date": "2026-01-21"
  },
  {
    "category": "feature",
    "description": "Autocomplete Phase 3: PostgreSQL Completer",
    "steps": [
      "Create internal/parser/dialects/dialect.go with Dialect interface",
      "Create internal/parser/dialects/postgres/config.go with newIgnoredTokens and newPreferredRules (~100 lines)",
      "Create internal/parser/dialects/postgres/normalize.go with identifier normalization helpers (~80 lines)",
      "Create internal/parser/dialects/postgres/references.go with TableReference types and FROM clause parsing (~200 lines)",
      "Create internal/parser/dialects/postgres/completer.go with PostgreSQL completion logic (~400 lines)",
      "Create internal/parser/dialects/postgres/completer_test.go with tests for keyword, table, column, and qualified name completion"
    ],
    "passes": true,
    "status": "completed",
    "completion_date": "2026-01-21"
  },
  {
    "category": "feature",
    "description": "Autocomplete Phase 4: Integration",
    "steps": [
      "Create internal/parser/types.go with CandidateType enum and Candidate struct (~50 lines)",
      "Create internal/parser/completer.go with Completer interface and NewCompleter factory (~100 lines)",
      "Delete internal/parser/completion.go (old naive implementation)",
      "Delete internal/parser/completion_test.go (old tests)",
      "Verify existing metadata.go and schema_cache.go remain unchanged"
    ],
    "passes": true,
    "status": "completed",
    "completion_date": "2026-01-21"
  },
  {
    "category": "feature",
    "description": "Autocomplete Phase 5: TUI Integration",
    "steps": [
      "Update internal/tui/components/sql_editor.go to use new parser.NewCompleter with CompleterConfig",
      "Pass dialect from connection config to completer",
      "Update completion display to show candidate details in status bar",
      "Display format: [1/5] users - table in public | Tab: next, Shift+Tab: prev, Enter: insert"
    ],
    "passes": true,
    "status": "completed",
    "completion_date": "2026-01-21"
  }
]
